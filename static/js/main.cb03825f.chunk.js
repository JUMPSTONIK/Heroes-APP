(this["webpackJsonpheros-spa"]=this["webpackJsonpheros-spa"]||[]).push([[0],{18:function(e,t,s){},22:function(e,t,s){"use strict";s.r(t);var i=s(5),r=s.n(i),a=(s(18),s(4)),n=s(0),c=s(8),o=s(13),l=s(6),d=Object(n.createContext)({}),h=d.Provider,u=s(1),j=function(e){var t={backgroundImage:"url(".concat(e.hero.image,")")},s=Object(n.useContext)(d),i=Object(n.useRef)(null);return Object(n.useEffect)((function(){var e;null===(e=i.current)||void 0===e||e.classList.add("animate__animated","animate__fadeIn")}),[]),Object(l.b)((function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{ref:i,className:"card-container ".concat(s.getListOfIds[s.getListOfIds.length-1]===e.hero.id?"liked-recently":""),children:Object(u.jsxs)("div",{className:"card-background",children:[Object(u.jsx)("div",{className:"background-image",style:t}),Object(u.jsxs)("div",{className:"card",children:[Object(u.jsxs)("div",{className:"heroesPicture",children:[Object(u.jsx)("img",{className:"hero",src:e.hero.image,alt:""}),Object(u.jsx)("div",{className:"backgroundFavoriteButton"}),Object(u.jsx)("button",{className:"favorite-button",type:"submit",onClick:function(){var t,r;e.isFavorite||window.scroll(null===(t=i.current)||void 0===t?void 0:t.offsetLeft,null===(r=i.current)||void 0===r?void 0:r.offsetTop);s.handleFavorite(e.hero)},children:Object(u.jsx)("img",{className:e.isFavorite?"mediumHeart-filled":"mediumHeart",src:e.isFavorite?"./assets/medium-filled-heart/medium-filled-heart.svg":"./assets/small-heart/small-heart.svg",alt:"little heart"})})]}),Object(u.jsxs)("div",{className:"heroesContent",children:[Object(u.jsx)("div",{className:"heroes-nickname",children:e.hero.name}),Object(u.jsxs)("div",{className:"realName",children:["Real Name: ",e.hero.realName]}),Object(u.jsxs)("div",{className:"rank-space",children:[Object(u.jsx)("img",{className:"fist",src:"./assets/fist/fist.svg",alt:"fist of ranking"}),Object(u.jsxs)("div",{className:"rank",children:[Object(u.jsx)("strong",{children:e.hero.powerStat})," / 10"]})]})]})]})]})})})}))},b=function(e){var t=Object(n.useState)({height:0,width:0}),s=Object(a.a)(t,2),i=s[0],r=s[1],l=Object(n.useMemo)((function(){return e.listOfDataCards.map((function(e){return Object(u.jsx)(j,{hero:e,isFavorite:!1},e.id.toString())}))}),[e]),d=Object(n.useRef)(null);Object(n.useEffect)((function(){var e,t;r({height:null===(e=d.current)||void 0===e?void 0:e.offsetHeight,width:null===(t=d.current)||void 0===t?void 0:t.offsetWidth})}),[]);var h=Object(n.useMemo)((function(){return Math.trunc((i.width-22)/336)}),[i.width]),b=Object(n.useMemo)((function(){return 0===i.width?0:Math.trunc(l.length/Math.trunc(i.width/336))}),[i.width,l.length]);Object(n.useEffect)((function(){var e=function(){var e,t;r({height:null===(e=d.current)||void 0===e?void 0:e.offsetHeight,width:null===(t=d.current)||void 0===t?void 0:t.offsetWidth})};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{ref:d,className:"list-heroes-section",children:Object(u.jsx)(o.a,{className:"grid-conteiner",columnCount:h>0?h:1,columnWidth:336,height:Math.trunc(i.height)!==1/0?Math.trunc(i.height):window.innerHeight,rowCount:b>0?b+1:l.length,rowHeight:222,width:Math.trunc(i.width*(i.width/(336*(h-3)))),style:{width:""},children:function(e){var t=e.columnIndex,s=e.rowIndex,r=e.style;return Object(u.jsx)("div",{style:Object(c.a)(Object(c.a)({},r),{},{width:"".concat(Math.trunc(i.width*(i.width/(336*h))))}),children:l[s*h+t]})}})})})},f=s(9),m=function(e){var t=Math.trunc(.9*window.innerWidth/317);return Object(u.jsxs)(f.a,{height:"general"!==e.section?400:550,speed:2,backgroundColor:"#6A4DBC",foregroundColor:"#ecebeb",style:{width:"100%"},children:[Object(u.jsx)("rect",{x:"16",y:"60",rx:"5",ry:"5",width:"200",height:"42"}),new Array(t).fill(" ").map((function(e,t){return Object(u.jsx)("rect",{x:"".concat(333*t+70),y:"130",rx:"5",ry:"5",width:"317",height:"174"},t)})),"general"===e.section&&new Array(t).fill(" ").map((function(e,t){return Object(u.jsx)("rect",{x:"".concat(333*t+70),y:"320",rx:"5",ry:"5",width:"317",height:"174"},t)}))]})},g=function(){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("img",{className:"big-heart",src:"./assets/big-heart/big-heart.svg",alt:"big heart"}),Object(u.jsx)("p",{className:"favorite-text",children:"You haven't liked any superhero yet"})]})},O=function(e){var t=e.favoriteHeroeslist.map((function(e){return Object(u.jsx)(j,{hero:e,isFavorite:!0},e.id.toString())}));return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:" animate__fadeInDown ".concat(0===t.length?"Favorite-section":"favorite-heroes-section"),children:0===t.length?Object(u.jsx)(g,{}):t})})},v=Object(l.a)((function(){var e=Object(n.useState)(!0),t=Object(a.a)(e,2),s=t[0],i=t[1],r=Object(n.useState)(!1),c=Object(a.a)(r,2),o=c[0],l=c[1],h=Object(n.useContext)(d);Object(n.useEffect)((function(){h.listOfHeroes!==[]&&l(!0)}),[h.idsList,h.listOfHeroes]);return Object(u.jsx)(u.Fragment,{children:Object(u.jsxs)("div",{className:"content",children:[Object(u.jsx)("div",{className:"logo-section",children:Object(u.jsx)("img",{className:"logo",src:"./assets/logo/logo.svg",alt:""})}),Object(u.jsx)("div",{className:o?"display-favorites-section":"display-loader-section",children:o?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"upper-section",children:[Object(u.jsxs)("div",{className:"liked-space",children:[Object(u.jsx)("div",{className:"little-favorite-button",children:Object(u.jsx)("img",{className:"littleHeart",src:"./assets/small-heart/small-heart.svg",alt:"little heart"})}),Object(u.jsx)("p",{className:"liked-text",children:"Liked"})]}),Object(u.jsx)("button",{className:s?"display-button":"display-button-rotated",onClick:function(){i(!s)},children:Object(u.jsx)("img",{src:"./assets/arrow-up/arrow-up.svg",alt:"arrow up"})})]}),s&&Object(u.jsx)(O,{favoriteHeroeslist:h.GeneralAndFavoriteList.favoriteList})]}):Object(u.jsx)(m,{section:""})}),Object(u.jsx)("div",{className:"search-and-general-section",children:o?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("div",{className:"search-heroes-section",children:[Object(u.jsx)("p",{className:"search-title",children:"All superheroes"}),Object(u.jsxs)("div",{className:"search-bar-element",children:[Object(u.jsx)("img",{src:"./assets/search/search.svg",alt:""}),Object(u.jsx)("input",{className:"search-input",type:"text",placeholder:"Search",onChange:function(e){return h.setSearchingHero=e.target.value}})]})]}),Object(u.jsx)(b,{listOfDataCards:h.searchHeroesList})]}):Object(u.jsx)(m,{section:"general"})})]})})})),x=s(3),p=s.n(x),w=s(10),N=s(11),y=s(2),L=s(12),k=function(){var e=Object(L.a)(p.a.mark((function e(){var t,s;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=[],e.prev=1,"akabab.github.io/superhero-api/api/all.json ",e.next=5,fetch("https://cors-anywhere.herokuapp.com/".concat("akabab.github.io/superhero-api/api/all.json "));case 5:return s=e.sent,e.next=8,s.json();case 8:e.sent.forEach((function(e){var s=e.powerstats,i=(s.combat+s.durability+s.intelligence+s.power+s.speed+s.strength)/60,r={id:e.id,name:e.name,realName:e.biography.fullName,image:e.images.md,powerStat:parseFloat(i.toFixed(2))};t.push(r)})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:return e.abrupt("return",t);case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}(),H=function(){function e(){Object(w.a)(this,e),this.listOfHeroes=[],this.idsList=[],this.searchedHero="";var t=localStorage.getItem("ids")?JSON.parse(localStorage.getItem("ids")):[];this.idsList=t,Object(y.e)(this,{getHeroesList:y.c},{autoBind:!0}),this.getHeroesList()}return Object(N.a)(e,[{key:"handleFavorite",value:function(e){if(this.idsList.includes(e.id)){var t=(localStorage.getItem("ids")?JSON.parse(localStorage.getItem("ids")):[]).filter((function(t){return t!==e.id}));this.idsList=t,localStorage.setItem("ids",JSON.stringify(t))}else{var s=localStorage.getItem("ids")?JSON.parse(localStorage.getItem("ids")):[];s.push(e.id),localStorage.setItem("ids",JSON.stringify(s)),this.idsList=s}}},{key:"GeneralAndFavoriteList",get:function(){var e=this,t=[],s=[];return this.listOfHeroes.forEach((function(i){e.idsList.includes(i.id)?s.push(i):t.push(i)})),{generalList:t,favoriteList:s.sort((function(t,s){return e.idsList.indexOf(s.id)-e.idsList.indexOf(t.id)}))}}},{key:"searchHeroesList",get:function(){var e=this;return this.GeneralAndFavoriteList.generalList.filter((function(t){return(t.name.includes(e.searchedHero)||t.realName.includes(e.searchedHero))&&!e.idsList.includes(t.id)}))}},{key:"getHeroesList",value:p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:this.listOfHeroes=e.sent;case 3:case"end":return e.stop()}}),e,this)}))},{key:"setSearchingHero",set:function(e){this.searchedHero=e}},{key:"getListOfIds",get:function(){return this.idsList}}]),e}(),S=document.querySelector("#root"),F=new H;r.a.render(Object(u.jsx)(h,{value:F,children:Object(u.jsx)(v,{})}),S)}},[[22,1,2]]]);
//# sourceMappingURL=main.cb03825f.chunk.js.map